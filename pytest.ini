[tool:pytest]
# Configure pytest for agent-os project
env =
    ENV=test
    DATABASE_URL=sqlite+aiosqlite:///test.db
    WRITER_DB_URL=sqlite+aiosqlite:///test.db
    READER_DB_URL=sqlite+aiosqlite:///test.db

# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Output and behavior
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# Async configuration
asyncio_mode = auto

# Custom markers
markers =
    unit: Unit tests for individual functions
    integration: Integration tests for repositories and services
    api: API endpoint tests
    agent_repository: Tests for agent repository layer
    agent_service: Tests for agent service layer
    webhook: Tests for webhook handlers and events
    database: Tests that require database access
